function playVideo(o){if(video=$(o).find("video").get(0),!video)return!0;0<video.currentTime&&!video.paused&&!video.ended&&2<video.readyState||video.play()}function pauseVideo(o){if(video=$(o).find("video").get(0),!video)return!0;0<video.currentTime&&!video.paused&&!video.ended&&2<video.readyState&&video.pause()}function onScroll(o){var n=$(document).scrollTop();$("#secondNav li a").each(function(){var o=$(this),e=$(o.attr("href"));e.position().top-200<=n&&e.position().top+e.height()>n?(o.not(".active")&&($("#secondNav li a").removeClass("active"),o.addClass("active"),(o.offset().left<0||o.offset().left>$(window).width()-50)&&$("#secondNav").animate({scrollLeft:o.offset().left},300)),playVideo(e)):(o.removeClass("active"),pauseVideo(e))})}$(document).ready(function(){$("#nav-icon").click(function(){$(this).toggleClass("open"),$("#sidebarNav").toggleClass("open"),$("#PageOverlay").toggleClass("open"),$("body").toggleClass("open")}),$(document).on("scroll",onScroll),$('a[href^="#"]').on("click",function(o){o.preventDefault(),$("a").each(function(){$(this).removeClass("active")}),$(this).addClass("active");var e=this.hash,n=$(e);n.length&&$("html, body").stop().animate({scrollTop:n.offset().top},500,"swing",function(){window.location.hash=e})});var e=$(window).scrollTop();if($(window).scroll(function(){var o=$(this).scrollTop();o<0&&(o=0),e<o?$(".header, body").addClass("fixed"):$(".header, body").removeClass("fixed"),e=o}),$("#ourHistory").length){var o=$("#ourHistory .owl-carousel .carousel-content").length,i=$('#ourHistory input[type="range"]'),n=$("#ourHistory .owl-carousel"),a=!1,l=50*(o-1),r=function(o){return Math.round(o/50)};n.on("changed.owl.carousel initialized.owl.carousel",function(o){if(o.item){var e=o.item.index,n=o.item.count;n<=e?e-=n:e<0&&(e+=n),console.log("scrollto",e),r(i.val())==e||a||((s=50*(t=e))<0&&(s=0),l<s&&(s=l),$({val:i.val()}).animate({val:50*t},{duration:300,easing:"linear",step:function(o){i.val(Math.ceil(o))}}))}var t,s}),n.owlCarousel({loop:!1,margin:24,responsiveClass:!0,dots:!1,startPosition:1,responsive:{0:{items:1,nav:!0},500:{items:2,nav:!0},768:{items:3,nav:!0},980:{items:4,nav:!0}}}),i.prop("min",0),i.val(100),i.prop("max",l),i.on("change input",function(o){n.trigger("to.owl.carousel",[r($(this).val()),300])}),i.on("mousedown",function(o){a=!0}),i.on("mouseup",function(o){a=!1}),setTimeout(function(){n.trigger("to.owl.carousel",[o,1])},1)}var t=function(){$(".show-modal").removeClass("show-modal"),$("body").removeClass("no-scroll")};$(".trigger").on("click",function(){return function(o){console.log("modal open ",o);var e=$("#"+o);e.length&&($("body").addClass("no-scroll"),e.addClass("show-modal"))}($(this).data("target")),!1}),$(".close-button").on("click",function(){t()}),$("body").on("click",function(o){$(o.target).is(".modal")&&t()}),$('select[name="country_id"]').length&&$.get("/countries.json").done(function(o){$('select[name="country_id"]').each(function(){var n=$(this);$.each(o,function(o,e){n.append($("<option />").val(o).text(e))})})}),$("select").on("blur",function(){$(this).attr("value",$(this).val())})}),$(document).ready(function(){$("#modalFeedback form").on("submit",function(){var n=$(this);return n.find(".field").removeClass("error-block"),$.post(window.URL_FORM_FEEDBACK,$(this).serialize()).done(function(o){$("#modalFeedback .modal-header").html(""),$("#modalFeedback .modal-content").html('<p class="finish-text">Thank you for your feedback!</p>')}).fail(function(o){o.responseJSON&&$.each(o.responseJSON,function(o,e){n.find('[name="'+o+'"]').closest(".field").addClass("error-block").find("p").text(e.join(", "))})}),!1}),$("#modalStory form").on("submit",function(){var n=$(this);return n.find(".field").removeClass("error-block"),$.post(window.URL_FORM_STORY,$(this).serialize()).done(function(o){$("#modalStory .modal-header").html(""),$("#modalStory .modal-content").html('<p class="finish-text">Ð¢hank you, your story has been sent!</p>')}).fail(function(o){o.responseJSON&&$.each(o.responseJSON,function(o,e){n.find('[name="'+o+'"]').closest(".field").addClass("error-block").find("p").text(e.join(", "))})}),!1})}),$(document).ready(function(){var n=327,t="Read more";$(".more").each(function(){var o=$(this).html();if(o.length>n){var e=o.substr(0,n)+'<span class="moreellipses">...&nbsp;</span><span class="morecontent"><span>'+o.substr(n,o.length-n)+'</span><a href="" class="morelink">'+t+"</a></span>";$(this).html(e)}}),$(".morelink").click(function(){return $(this).hasClass("less")?($(this).removeClass("less"),$(this).html(t)):($(this).addClass("less"),$(this).html("Hide")),$(this).parent().prev().toggle(),$(this).prev().toggle(),!1})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsicGxheVZpZGVvIiwiaG9sZGVyIiwidmlkZW8iLCIkIiwiZmluZCIsImdldCIsImN1cnJlbnRUaW1lIiwicGF1c2VkIiwiZW5kZWQiLCJyZWFkeVN0YXRlIiwicGxheSIsInBhdXNlVmlkZW8iLCJwYXVzZSIsIm9uU2Nyb2xsIiwiZXZlbnQiLCJzY3JvbGxQb3MiLCJkb2N1bWVudCIsInNjcm9sbFRvcCIsImVhY2giLCJjdXJyTGluayIsInRoaXMiLCJyZWZFbGVtZW50IiwiYXR0ciIsInBvc2l0aW9uIiwidG9wIiwiaGVpZ2h0Iiwibm90IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIm9mZnNldCIsImxlZnQiLCJ3aW5kb3ciLCJ3aWR0aCIsImFuaW1hdGUiLCJzY3JvbGxMZWZ0IiwicmVhZHkiLCJjbGljayIsInRvZ2dsZUNsYXNzIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJoYXNoIiwiJHRhcmdldCIsImxlbmd0aCIsInN0b3AiLCJsb2NhdGlvbiIsImxhc3RTY3JvbGxUb3AiLCJzY3JvbGwiLCJzdCIsIm93bEl0ZW1Db3VudCIsIiRyYW5nZUlucHV0IiwiJG93bENvbnRhaW5lciIsInJhbmdlVG91Y2hlZCIsInJhbmdlTWF4IiwicmFuZ2VWYWxUb0luZGV4IiwiaW5wdXQiLCJNYXRoIiwicm91bmQiLCJpdGVtIiwiaW5kZXgiLCJjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJ2YWwiLCJ0byIsImR1cmF0aW9uIiwiZWFzaW5nIiwic3RlcCIsImNlaWwiLCJvd2xDYXJvdXNlbCIsImxvb3AiLCJtYXJnaW4iLCJyZXNwb25zaXZlQ2xhc3MiLCJkb3RzIiwic3RhcnRQb3NpdGlvbiIsInJlc3BvbnNpdmUiLCIwIiwiaXRlbXMiLCJuYXYiLCI1MDAiLCI3NjgiLCI5ODAiLCJwcm9wIiwidHJpZ2dlciIsInNldFRpbWVvdXQiLCJtb2RhbENsb3NlQWxsIiwiaWQiLCIkbW9kYWwiLCJtb2RhbE9wZW4iLCJkYXRhIiwiaXMiLCJkb25lIiwicmVzdWx0IiwiJHRoaXMiLCJrZXkiLCJ2YWx1ZSIsImFwcGVuZCIsInRleHQiLCIkZm9ybSIsInBvc3QiLCJVUkxfRk9STV9GRUVEQkFDSyIsInNlcmlhbGl6ZSIsImh0bWwiLCJmYWlsIiwicmVzcG9uc2VKU09OIiwiY2xvc2VzdCIsImpvaW4iLCJVUkxfRk9STV9TVE9SWSIsInNob3dDaGFyIiwibW9yZXRleHQiLCJjb250ZW50Iiwic3Vic3RyIiwiaGFzQ2xhc3MiLCJwYXJlbnQiLCJwcmV2IiwidG9nZ2xlIl0sIm1hcHBpbmdzIjoiQUFtTEEsU0FBU0EsVUFBVUMsR0FFakIsR0FEQUMsTUFBUUMsRUFBRUYsR0FBUUcsS0FBSyxTQUFTQyxJQUFJLElBQy9CSCxNQUNILE9BQU8sRUFFMkIsRUFBcEJBLE1BQU1JLGNBQW9CSixNQUFNSyxTQUFXTCxNQUFNTSxPQUE0QixFQUFuQk4sTUFBTU8sWUFFOUVQLE1BQU1RLE9BSVYsU0FBU0MsV0FBV1YsR0FFbEIsR0FEQUMsTUFBUUMsRUFBRUYsR0FBUUcsS0FBSyxTQUFTQyxJQUFJLElBQy9CSCxNQUNILE9BQU8sRUFDMkIsRUFBcEJBLE1BQU1JLGNBQW9CSixNQUFNSyxTQUFXTCxNQUFNTSxPQUE0QixFQUFuQk4sTUFBTU8sWUFFOUVQLE1BQU1VLFFBSVYsU0FBU0MsU0FBU0MsR0FDaEIsSUFBSUMsRUFBWVosRUFBRWEsVUFBVUMsWUFDNUJkLEVBQUUsbUJBQW1CZSxLQUFLLFdBQ3hCLElBQUlDLEVBQVdoQixFQUFFaUIsTUFDYkMsRUFBYWxCLEVBQUVnQixFQUFTRyxLQUFLLFNBRTdCRCxFQUFXRSxXQUFXQyxJQUFJLEtBQU9ULEdBQWFNLEVBQVdFLFdBQVdDLElBQU1ILEVBQVdJLFNBQVdWLEdBQzlGSSxFQUFTTyxJQUFJLGFBQ2Z2QixFQUFFLG1CQUFtQndCLFlBQVksVUFDakNSLEVBQVNTLFNBQVMsV0FDYlQsRUFBU1UsU0FBU0MsS0FBTyxHQUFPWCxFQUFTVSxTQUFTQyxLQUFRM0IsRUFBRTRCLFFBQVFDLFFBQVUsS0FDakY3QixFQUFFLGNBQWM4QixTQUFXQyxXQUFhZixFQUFTVSxTQUFTQyxNQUFRLE1BRXRFOUIsVUFBVXFCLEtBRVZGLEVBQVNRLFlBQVksVUFDckJoQixXQUFXVSxNQXhOakJsQixFQUFFYSxVQUFVbUIsTUFBTSxXQUNoQmhDLEVBQUUsYUFBYWlDLE1BQU0sV0FDbkJqQyxFQUFFaUIsTUFBTWlCLFlBQVksUUFDcEJsQyxFQUFFLGVBQWVrQyxZQUFZLFFBQzdCbEMsRUFBRSxnQkFBZ0JrQyxZQUFZLFFBQzlCbEMsRUFBRSxRQUFRa0MsWUFBWSxVQUV4QmxDLEVBQUVhLFVBQVVzQixHQUFHLFNBQVV6QixVQUV6QlYsRUFBRSxnQkFBZ0JtQyxHQUFHLFFBQVMsU0FBVUMsR0FDdENBLEVBQUVDLGlCQUdGckMsRUFBRSxLQUFLZSxLQUFLLFdBQ1ZmLEVBQUVpQixNQUFNTyxZQUFZLFlBRXRCeEIsRUFBRWlCLE1BQU1RLFNBQVMsVUFFakIsSUFBSWEsRUFBU3JCLEtBQUtzQixLQUNsQkMsRUFBVXhDLEVBQUVzQyxHQUNSRSxFQUFRQyxRQUNWekMsRUFBRSxjQUFjMEMsT0FBT1osU0FDckJoQixVQUFhMEIsRUFBUWQsU0FBU0wsS0FDN0IsSUFBSyxRQUFTLFdBQ2ZPLE9BQU9lLFNBQVNKLEtBQU9ELE1BTTdCLElBQUlNLEVBQWdCNUMsRUFBRTRCLFFBQVFkLFlBZ0I5QixHQWRBZCxFQUFFNEIsUUFBUWlCLE9BQU8sV0FDZixJQUFJQyxFQUFLOUMsRUFBRWlCLE1BQU1ILFlBQ2JnQyxFQUFLLElBQ1BBLEVBQUssR0FHRUYsRUFBTEUsRUFDRjlDLEVBQUUsaUJBQWlCeUIsU0FBUyxTQUU1QnpCLEVBQUUsaUJBQWlCd0IsWUFBWSxTQUVqQ29CLEVBQWdCRSxJQUdkOUMsRUFBRSxlQUFleUMsT0FBUSxDQUMzQixJQUFJTSxFQUFlL0MsRUFBRSwrQ0FBK0N5QyxPQUNoRU8sRUFBY2hELEVBQUUsbUNBQ2hCaUQsRUFBZ0JqRCxFQUFFLDZCQUVsQmtELEdBQWUsRUFDZkMsRUFGWSxJQUVBSixFQUFhLEdBRXpCSyxFQUFrQixTQUFTQyxHQUM3QixPQUFPQyxLQUFLQyxNQUFNRixFQUxKLEtBc0JoQkosRUFBY2QsR0FBRyxnREFBaUQsU0FBU0MsR0FDekUsR0FBSUEsRUFBRW9CLEtBQU0sQ0FDUixJQUFJQyxFQUFRckIsRUFBRW9CLEtBQUtDLE1BQ2ZDLEVBQVF0QixFQUFFb0IsS0FBS0UsTUFDTkEsR0FBVEQsRUFDQUEsR0FBZ0JDLEVBQ1RELEVBQVEsSUFDZkEsR0FBZ0JDLEdBRXBCQyxRQUFRQyxJQUFJLFdBQVlILEdBQ25CTCxFQUFnQkosRUFBWWEsUUFBVUosR0FBWVAsS0F4QnZEWSxFQVJVLElBT2FMLEVBMEJQQSxJQTlCUCxJQU9YSyxFQVBXLEdBUUpYLEVBQUxXLElBQ0ZBLEVBQUtYLEdBQ1BuRCxHQUFJNkQsSUFBS2IsRUFBWWEsUUFBUy9CLFNBQVUrQixJQWIxQixHQWErQkosSUFDekNNLFNBQVUsSUFDVkMsT0FBUSxTQUNSQyxLQUFNLFNBQVNKLEdBQ2JiLEVBQVlhLElBQUlQLEtBQUtZLEtBQUtMLFFBVmQsSUFBU0osRUFDdkJLLElBOEJOYixFQUFja0IsYUFDVkMsTUFBSyxFQUNMQyxPQUFPLEdBQ1BDLGlCQUFnQixFQUNoQkMsTUFBSyxFQUVMQyxjQUFlLEVBQ2ZDLFlBQ0VDLEdBQ0VDLE1BQU0sRUFDTkMsS0FBSSxHQUVOQyxLQUNFRixNQUFNLEVBQ05DLEtBQUksR0FFTkUsS0FDRUgsTUFBTSxFQUNOQyxLQUFJLEdBRU5HLEtBQ0VKLE1BQU0sRUFDTkMsS0FBSSxNQUtaNUIsRUFBWWdDLEtBQUssTUE5REYsR0ErRGZoQyxFQUFZYSxJQUFJLEtBQ2hCYixFQUFZZ0MsS0FBSyxNQUFPN0IsR0FFeEJILEVBQVliLEdBQUcsZUFBZ0IsU0FBU0MsR0FDdENhLEVBQWNnQyxRQUFRLG1CQUFvQjdCLEVBQWdCcEQsRUFBRWlCLE1BQU00QyxPQUFRLFFBRTVFYixFQUFZYixHQUFHLFlBQWEsU0FBU0MsR0FDbkNjLEdBQWUsSUFFakJGLEVBQVliLEdBQUcsVUFBVyxTQUFTQyxHQUNqQ2MsR0FBZSxJQUdqQmdDLFdBQVcsV0FDVGpDLEVBQWNnQyxRQUFRLG1CQUFvQmxDLEVBQWMsS0FDdkQsR0FLTCxJQUFJb0MsRUFBZ0IsV0FDbEJuRixFQUFFLGVBQWV3QixZQUFZLGNBQzdCeEIsRUFBRSxRQUFRd0IsWUFBWSxjQVl4QnhCLEVBQUUsWUFBWW1DLEdBQUcsUUFBUyxXQUV4QixPQVhjLFNBQVNpRCxHQUN2QnpCLFFBQVFDLElBQUksY0FBZXdCLEdBQzNCLElBQUlDLEVBQVNyRixFQUFFLElBQU1vRixHQUNqQkMsRUFBTzVDLFNBQ1R6QyxFQUFFLFFBQVF5QixTQUFTLGFBQ25CNEQsRUFBTzVELFNBQVMsZUFLbEI2RCxDQUFVdEYsRUFBRWlCLE1BQU1zRSxLQUFLLFlBQ2hCLElBR1R2RixFQUFFLGlCQUFpQm1DLEdBQUcsUUFBUyxXQUM3QmdELE1BRUZuRixFQUFFLFFBQVFtQyxHQUFHLFFBQVMsU0FBU0MsR0FDekJwQyxFQUFFb0MsRUFBRUUsUUFBUWtELEdBQUcsV0FDakJMLE1BSUFuRixFQUFFLDZCQUE2QnlDLFFBQ2pDekMsRUFBRUUsSUFBSSxtQkFBbUJ1RixLQUFLLFNBQVNDLEdBQ3JDMUYsRUFBRSw2QkFBNkJlLEtBQUssV0FDbEMsSUFBSTRFLEVBQVEzRixFQUFFaUIsTUFDZGpCLEVBQUVlLEtBQUsyRSxFQUFRLFNBQVNFLEVBQUtDLEdBQzNCRixFQUFNRyxPQUFPOUYsRUFBRSxjQUFjNkQsSUFBSStCLEdBQUtHLEtBQUtGLFVBS25EN0YsRUFBRSxVQUFVbUMsR0FBRyxPQUFRLFdBQ3JCbkMsRUFBRWlCLE1BQU1FLEtBQUssUUFBU25CLEVBQUVpQixNQUFNNEMsV0FnRGxDN0QsRUFBRWEsVUFBVW1CLE1BQU0sV0FDaEJoQyxFQUFFLHVCQUF1Qm1DLEdBQUcsU0FBVSxXQUNwQyxJQUFJNkQsRUFBUWhHLEVBQUVpQixNQVlkLE9BWEErRSxFQUFNL0YsS0FBSyxVQUFVdUIsWUFBWSxlQUNqQ3hCLEVBQUVpRyxLQUFLckUsT0FBT3NFLGtCQUFtQmxHLEVBQUVpQixNQUFNa0YsYUFBYVYsS0FBSyxTQUFTQSxHQUNoRXpGLEVBQUUsZ0NBQWdDb0csS0FBSyxJQUN2Q3BHLEVBQUUsaUNBQWlDb0csS0FBSyw2REFDekNDLEtBQUssU0FBU0EsR0FDWEEsRUFBS0MsY0FDUHRHLEVBQUVlLEtBQUtzRixFQUFLQyxhQUFjLFNBQVNWLEVBQUtDLEdBQ3RDRyxFQUFNL0YsS0FBSyxVQUFVMkYsRUFBSSxNQUFNVyxRQUFRLFVBQVU5RSxTQUFTLGVBQWV4QixLQUFLLEtBQUs4RixLQUFLRixFQUFNVyxLQUFLLFlBSWxHLElBRVR4RyxFQUFFLG9CQUFvQm1DLEdBQUcsU0FBVSxXQUNqQyxJQUFJNkQsRUFBUWhHLEVBQUVpQixNQVlkLE9BWEErRSxFQUFNL0YsS0FBSyxVQUFVdUIsWUFBWSxlQUNqQ3hCLEVBQUVpRyxLQUFLckUsT0FBTzZFLGVBQWdCekcsRUFBRWlCLE1BQU1rRixhQUFhVixLQUFLLFNBQVNBLEdBQzdEekYsRUFBRSw2QkFBNkJvRyxLQUFLLElBQ3BDcEcsRUFBRSw4QkFBOEJvRyxLQUFLLHFFQUN0Q0MsS0FBSyxTQUFTQSxHQUNYQSxFQUFLQyxjQUNQdEcsRUFBRWUsS0FBS3NGLEVBQUtDLGFBQWMsU0FBU1YsRUFBS0MsR0FDdENHLEVBQU0vRixLQUFLLFVBQVUyRixFQUFJLE1BQU1XLFFBQVEsVUFBVTlFLFNBQVMsZUFBZXhCLEtBQUssS0FBSzhGLEtBQUtGLEVBQU1XLEtBQUssWUFJbEcsTUFLWHhHLEVBQUVhLFVBQVVtQixNQUFNLFdBRWQsSUFBSTBFLEVBQVcsSUFFWEMsRUFBVyxZQUdmM0csRUFBRSxTQUFTZSxLQUFLLFdBQ1osSUFBSTZGLEVBQVU1RyxFQUFFaUIsTUFBTW1GLE9BQ3RCLEdBQUdRLEVBQVFuRSxPQUFTaUUsRUFBVSxDQUMxQixJQUdJTixFQUhJUSxFQUFRQyxPQUFPLEVBQUdILEdBR1gsOEVBRlBFLEVBQVFDLE9BQU9ILEVBQVVFLEVBQVFuRSxPQUFTaUUsR0FFaUUsc0NBQXdDQyxFQUFXLGNBQ3RLM0csRUFBRWlCLE1BQU1tRixLQUFLQSxNQUlyQnBHLEVBQUUsYUFBYWlDLE1BQU0sV0FVakIsT0FUR2pDLEVBQUVpQixNQUFNNkYsU0FBUyxTQUNoQjlHLEVBQUVpQixNQUFNTyxZQUFZLFFBQ3BCeEIsRUFBRWlCLE1BQU1tRixLQUFLTyxLQUViM0csRUFBRWlCLE1BQU1RLFNBQVMsUUFDakJ6QixFQUFFaUIsTUFBTW1GLEtBbkJELFNBcUJYcEcsRUFBRWlCLE1BQU04RixTQUFTQyxPQUFPQyxTQUN4QmpILEVBQUVpQixNQUFNK0YsT0FBT0MsVUFDUiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICQoJyNuYXYtaWNvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAkKCcjc2lkZWJhck5hdicpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAkKCcjUGFnZU92ZXJsYXknKS50b2dnbGVDbGFzcygnb3BlbicpO1xyXG4gICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcbiAgfSk7XHJcbiAgJChkb2N1bWVudCkub24oJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcclxuXHJcbiAgJCgnYVtocmVmXj1cIiNcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgJChkb2N1bWVudCkub2ZmKCdzY3JvbGwnKTtcclxuXHJcbiAgICAkKCdhJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfSk7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5oYXNoLFxyXG4gICAgJHRhcmdldCA9ICQodGFyZ2V0KTtcclxuICAgIGlmICgkdGFyZ2V0Lmxlbmd0aCkge1xyXG4gICAgICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoe1xyXG4gICAgICAgICdzY3JvbGxUb3AnOiAkdGFyZ2V0Lm9mZnNldCgpLnRvcFxyXG4gICAgICB9LCA1MDAsICdzd2luZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHRhcmdldDtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cclxuICB2YXIgbGFzdFNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4gICAgdmFyIHN0ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuICAgIGlmIChzdCA8IDApXHJcbiAgICAgIHN0ID0gMDtcclxuLy8gICAgaWYgKHN0ID4gbWF4U2Nyb2xsVG9wKSAvLyAkKGRvY3VtZW50KS5oZWlnaHQoKVxyXG4vLyAgICAgIHN0ID0gbWF4U2Nyb2xsVG9wO1xyXG4gICAgaWYgKHN0ID4gbGFzdFNjcm9sbFRvcCl7XHJcbiAgICAgICQoJy5oZWFkZXIsIGJvZHknKS5hZGRDbGFzcygnZml4ZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoJy5oZWFkZXIsIGJvZHknKS5yZW1vdmVDbGFzcygnZml4ZWQnKTtcclxuICAgIH1cclxuICAgIGxhc3RTY3JvbGxUb3AgPSBzdDtcclxuICB9KTtcclxuXHJcbiAgaWYgKCQoJyNvdXJIaXN0b3J5JykubGVuZ3RoKSB7XHJcbiAgICB2YXIgb3dsSXRlbUNvdW50ID0gJCgnI291ckhpc3RvcnkgLm93bC1jYXJvdXNlbCAuY2Fyb3VzZWwtY29udGVudCcpLmxlbmd0aDtcclxuICAgIHZhciAkcmFuZ2VJbnB1dCA9ICQoJyNvdXJIaXN0b3J5IGlucHV0W3R5cGU9XCJyYW5nZVwiXScpO1xyXG4gICAgdmFyICRvd2xDb250YWluZXIgPSAkKCcjb3VySGlzdG9yeSAub3dsLWNhcm91c2VsJyk7XHJcbiAgICB2YXIgcmFuZ2VDb2VmID0gNTA7XHJcbiAgICB2YXIgcmFuZ2VUb3VjaGVkID0gZmFsc2U7XHJcbiAgICB2YXIgcmFuZ2VNYXggPSAob3dsSXRlbUNvdW50LTEpKnJhbmdlQ29lZjtcclxuICAgIHZhciByYW5nZU1pbiA9IDA7Ly8xKnJhbmdlQ29lZjtcclxuICAgIHZhciByYW5nZVZhbFRvSW5kZXggPSBmdW5jdGlvbihpbnB1dCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChpbnB1dCAvIHJhbmdlQ29lZik7XHJcbiAgICB9XHJcbiAgICB2YXIgcmFuZ2VTY3JvbGxUbyA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgIHZhciB0byA9IGluZGV4KnJhbmdlQ29lZjtcclxuICAgICAgaWYgKHRvIDwgcmFuZ2VNaW4pXHJcbiAgICAgICAgdG8gPSByYW5nZU1pbjtcclxuICAgICAgaWYgKHRvID4gcmFuZ2VNYXgpXHJcbiAgICAgICAgdG8gPSByYW5nZU1heDtcclxuICAgICAgJCh7IHZhbDogJHJhbmdlSW5wdXQudmFsKCkgfSkuYW5pbWF0ZSh7IHZhbDogaW5kZXgqcmFuZ2VDb2VmIH0sIHtcclxuICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXHJcbiAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgc3RlcDogZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgICAgICRyYW5nZUlucHV0LnZhbChNYXRoLmNlaWwodmFsKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICRvd2xDb250YWluZXIub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsIGluaXRpYWxpemVkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKGUuaXRlbSkge1xyXG4gICAgICAgICAgdmFyIGluZGV4ID0gZS5pdGVtLmluZGV4O1xyXG4gICAgICAgICAgdmFyIGNvdW50ID0gZS5pdGVtLmNvdW50O1xyXG4gICAgICAgICAgaWYgKGluZGV4ID49IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCAtIGNvdW50O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICAgICAgICBpbmRleCA9IGluZGV4ICsgY291bnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnc2Nyb2xsdG8nLCBpbmRleCk7XHJcbiAgICAgICAgICBpZiAoKHJhbmdlVmFsVG9JbmRleCgkcmFuZ2VJbnB1dC52YWwoKSkgIT0gaW5kZXgpICYmICghcmFuZ2VUb3VjaGVkKSl7XHJcbiAgICAgICAgICAgIHJhbmdlU2Nyb2xsVG8oaW5kZXgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkb3dsQ29udGFpbmVyLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOmZhbHNlLFxyXG4gICAgICAgIG1hcmdpbjoyNCxcclxuICAgICAgICByZXNwb25zaXZlQ2xhc3M6dHJ1ZSxcclxuICAgICAgICBkb3RzOmZhbHNlLFxyXG4vLyAgICAgICAgY2VudGVyOiB0cnVlLFxyXG4gICAgICAgIHN0YXJ0UG9zaXRpb246IDEsXHJcbiAgICAgICAgcmVzcG9uc2l2ZTp7XHJcbiAgICAgICAgICAwOntcclxuICAgICAgICAgICAgaXRlbXM6MSxcclxuICAgICAgICAgICAgbmF2OnRydWVcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICA1MDA6e1xyXG4gICAgICAgICAgICBpdGVtczoyLFxyXG4gICAgICAgICAgICBuYXY6dHJ1ZVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDc2ODp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjMsXHJcbiAgICAgICAgICAgIG5hdjp0cnVlXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgOTgwOntcclxuICAgICAgICAgICAgaXRlbXM6NCxcclxuICAgICAgICAgICAgbmF2OnRydWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICRyYW5nZUlucHV0LnByb3AoJ21pbicsIHJhbmdlTWluKTtcclxuICAgICRyYW5nZUlucHV0LnZhbCgyKnJhbmdlQ29lZik7XHJcbiAgICAkcmFuZ2VJbnB1dC5wcm9wKCdtYXgnLCByYW5nZU1heCk7XHJcblxyXG4gICAgJHJhbmdlSW5wdXQub24oJ2NoYW5nZSBpbnB1dCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgJG93bENvbnRhaW5lci50cmlnZ2VyKCd0by5vd2wuY2Fyb3VzZWwnLCBbcmFuZ2VWYWxUb0luZGV4KCQodGhpcykudmFsKCkpLCAzMDAgXSk7XHJcbiAgICB9KTtcclxuICAgICRyYW5nZUlucHV0Lm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIHJhbmdlVG91Y2hlZCA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgICRyYW5nZUlucHV0Lm9uKCdtb3VzZXVwJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICByYW5nZVRvdWNoZWQgPSBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICRvd2xDb250YWluZXIudHJpZ2dlcigndG8ub3dsLmNhcm91c2VsJywgW293bEl0ZW1Db3VudCwgMSBdKTtcclxuICAgIH0sIDEpO1xyXG5cclxuICB9XHJcblxyXG5cclxuICB2YXIgbW9kYWxDbG9zZUFsbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnLnNob3ctbW9kYWwnKS5yZW1vdmVDbGFzcygnc2hvdy1tb2RhbCcpO1xyXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCduby1zY3JvbGwnKTtcclxuICB9XHJcblxyXG4gIHZhciBtb2RhbE9wZW4gPSBmdW5jdGlvbihpZCkge1xyXG4gICAgY29uc29sZS5sb2coJ21vZGFsIG9wZW4gJywgaWQpO1xyXG4gICAgdmFyICRtb2RhbCA9ICQoJyMnICsgaWQpO1xyXG4gICAgaWYgKCRtb2RhbC5sZW5ndGgpIHtcclxuICAgICAgJCgnYm9keScpLmFkZENsYXNzKCduby1zY3JvbGwnKTtcclxuICAgICAgJG1vZGFsLmFkZENsYXNzKCdzaG93LW1vZGFsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAkKCcudHJpZ2dlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgbW9kYWxPcGVuKCQodGhpcykuZGF0YSgndGFyZ2V0JykpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0pO1xyXG5cclxuICAkKCcuY2xvc2UtYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICBtb2RhbENsb3NlQWxsKCk7XHJcbiAgfSk7XHJcbiAgJCgnYm9keScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGlmICgkKGUudGFyZ2V0KS5pcygnLm1vZGFsJykpIHtcclxuICAgICAgbW9kYWxDbG9zZUFsbCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpZiAoJCgnc2VsZWN0W25hbWU9XCJjb3VudHJ5X2lkXCJdJykubGVuZ3RoKSB7XHJcbiAgICAkLmdldCgnL2NvdW50cmllcy5qc29uJykuZG9uZShmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgJCgnc2VsZWN0W25hbWU9XCJjb3VudHJ5X2lkXCJdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgICQuZWFjaChyZXN1bHQsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICR0aGlzLmFwcGVuZCgkKFwiPG9wdGlvbiAvPlwiKS52YWwoa2V5KS50ZXh0KHZhbHVlKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gICQoJ3NlbGVjdCcpLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmF0dHIoJ3ZhbHVlJywgJCh0aGlzKS52YWwoKSk7XHJcbiAgfSk7XHJcbiB9KTtcclxuXHJcbmZ1bmN0aW9uIHBsYXlWaWRlbyhob2xkZXIpIHtcclxuICB2aWRlbyA9ICQoaG9sZGVyKS5maW5kKCd2aWRlbycpLmdldCgwKTtcclxuICBpZiAoIXZpZGVvKVxyXG4gICAgcmV0dXJuIHRydWU7XHJcblxyXG4gIHZhciBpc1BsYXlpbmcgPSB2aWRlby5jdXJyZW50VGltZSA+IDAgJiYgIXZpZGVvLnBhdXNlZCAmJiAhdmlkZW8uZW5kZWQgJiYgdmlkZW8ucmVhZHlTdGF0ZSA+IDI7XHJcbiAgaWYgKCFpc1BsYXlpbmcpIHtcclxuICAgIHZpZGVvLnBsYXkoKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhdXNlVmlkZW8oaG9sZGVyKSB7XHJcbiAgdmlkZW8gPSAkKGhvbGRlcikuZmluZCgndmlkZW8nKS5nZXQoMCk7XHJcbiAgaWYgKCF2aWRlbylcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIHZhciBpc1BsYXlpbmcgPSB2aWRlby5jdXJyZW50VGltZSA+IDAgJiYgIXZpZGVvLnBhdXNlZCAmJiAhdmlkZW8uZW5kZWQgJiYgdmlkZW8ucmVhZHlTdGF0ZSA+IDI7XHJcbiAgaWYgKGlzUGxheWluZykge1xyXG4gICAgdmlkZW8ucGF1c2UoKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uU2Nyb2xsKGV2ZW50KSB7XHJcbiAgdmFyIHNjcm9sbFBvcyA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpO1xyXG4gICQoJyNzZWNvbmROYXYgbGkgYScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGN1cnJMaW5rID0gJCh0aGlzKTtcclxuICAgIHZhciByZWZFbGVtZW50ID0gJChjdXJyTGluay5hdHRyKCdocmVmJykpO1xyXG4gICAgdmFyIHZpZGVvID0gbnVsbDtcclxuICAgIGlmIChyZWZFbGVtZW50LnBvc2l0aW9uKCkudG9wLTIwMCA8PSBzY3JvbGxQb3MgJiYgcmVmRWxlbWVudC5wb3NpdGlvbigpLnRvcCArIHJlZkVsZW1lbnQuaGVpZ2h0KCkgPiBzY3JvbGxQb3MpIHtcclxuICAgICAgaWYgKGN1cnJMaW5rLm5vdCgnLmFjdGl2ZScpKSB7XHJcbiAgICAgICAgJCgnI3NlY29uZE5hdiBsaSBhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGN1cnJMaW5rLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBpZiAoKGN1cnJMaW5rLm9mZnNldCgpLmxlZnQgPCAwKSB8fCAoY3Vyckxpbmsub2Zmc2V0KCkubGVmdCA+ICgkKHdpbmRvdykud2lkdGgoKSAtIDUwKSApKVxyXG4gICAgICAgICAgJCgnI3NlY29uZE5hdicpLmFuaW1hdGUoIHsgc2Nyb2xsTGVmdCA6IGN1cnJMaW5rLm9mZnNldCgpLmxlZnQgfSwgMzAwICk7XHJcbiAgICAgIH1cclxuICAgICAgcGxheVZpZGVvKHJlZkVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3VyckxpbmsucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICBwYXVzZVZpZGVvKHJlZkVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuLypmb3JtcyovXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICQoJyNtb2RhbEZlZWRiYWNrIGZvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgJGZvcm0gPSAkKHRoaXMpO1xyXG4gICAgJGZvcm0uZmluZCgnLmZpZWxkJykucmVtb3ZlQ2xhc3MoJ2Vycm9yLWJsb2NrJyk7XHJcbiAgICAkLnBvc3Qod2luZG93LlVSTF9GT1JNX0ZFRURCQUNLLCAkKHRoaXMpLnNlcmlhbGl6ZSgpKS5kb25lKGZ1bmN0aW9uKGRvbmUpIHtcclxuICAgICAgICAkKCcjbW9kYWxGZWVkYmFjayAubW9kYWwtaGVhZGVyJykuaHRtbCgnJyk7XHJcbiAgICAgICAgJCgnI21vZGFsRmVlZGJhY2sgLm1vZGFsLWNvbnRlbnQnKS5odG1sKCc8cCBjbGFzcz1cImZpbmlzaC10ZXh0XCI+VGhhbmsgeW91IGZvciB5b3VyIGZlZWRiYWNrITwvcD4nKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24oZmFpbCkge1xyXG4gICAgICBpZiAoZmFpbC5yZXNwb25zZUpTT04pIHtcclxuICAgICAgICAkLmVhY2goZmFpbC5yZXNwb25zZUpTT04sIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICRmb3JtLmZpbmQoJ1tuYW1lPVwiJytrZXkrJ1wiXScpLmNsb3Nlc3QoJy5maWVsZCcpLmFkZENsYXNzKCdlcnJvci1ibG9jaycpLmZpbmQoJ3AnKS50ZXh0KHZhbHVlLmpvaW4oJywgJykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9KTtcclxuICAkKCcjbW9kYWxTdG9yeSBmb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyICRmb3JtID0gJCh0aGlzKTtcclxuICAgICRmb3JtLmZpbmQoJy5maWVsZCcpLnJlbW92ZUNsYXNzKCdlcnJvci1ibG9jaycpO1xyXG4gICAgJC5wb3N0KHdpbmRvdy5VUkxfRk9STV9TVE9SWSwgJCh0aGlzKS5zZXJpYWxpemUoKSkuZG9uZShmdW5jdGlvbihkb25lKSB7XHJcbiAgICAgICAgJCgnI21vZGFsU3RvcnkgLm1vZGFsLWhlYWRlcicpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJyNtb2RhbFN0b3J5IC5tb2RhbC1jb250ZW50JykuaHRtbCgnPHAgY2xhc3M9XCJmaW5pc2gtdGV4dFwiPtCiaGFuayB5b3UsIHlvdXIgc3RvcnkgaGFzIGJlZW4gc2VudCE8L3A+Jyk7XHJcbiAgICB9KS5mYWlsKGZ1bmN0aW9uKGZhaWwpIHtcclxuICAgICAgaWYgKGZhaWwucmVzcG9uc2VKU09OKSB7XHJcbiAgICAgICAgJC5lYWNoKGZhaWwucmVzcG9uc2VKU09OLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAkZm9ybS5maW5kKCdbbmFtZT1cIicra2V5KydcIl0nKS5jbG9zZXN0KCcuZmllbGQnKS5hZGRDbGFzcygnZXJyb3ItYmxvY2snKS5maW5kKCdwJykudGV4dCh2YWx1ZS5qb2luKCcsICcpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gQ29uZmlndXJlL2N1c3RvbWl6ZSB0aGVzZSB2YXJpYWJsZXMuXHJcbiAgICB2YXIgc2hvd0NoYXIgPSAzMjc7ICAvLyBIb3cgbWFueSBjaGFyYWN0ZXJzIGFyZSBzaG93biBieSBkZWZhdWx0XHJcbiAgICB2YXIgZWxsaXBzZXN0ZXh0ID0gXCIuLi5cIjtcclxuICAgIHZhciBtb3JldGV4dCA9IFwiUmVhZCBtb3JlXCI7XHJcbiAgICB2YXIgbGVzc3RleHQgPSBcIkhpZGVcIjtcclxuICAgIFxyXG4gICAgJCgnLm1vcmUnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gJCh0aGlzKS5odG1sKCk7XHJcbiAgICAgICAgaWYoY29udGVudC5sZW5ndGggPiBzaG93Q2hhcikge1xyXG4gICAgICAgICAgICB2YXIgYyA9IGNvbnRlbnQuc3Vic3RyKDAsIHNob3dDaGFyKTtcclxuICAgICAgICAgICAgdmFyIGggPSBjb250ZW50LnN1YnN0cihzaG93Q2hhciwgY29udGVudC5sZW5ndGggLSBzaG93Q2hhcik7XHJcbiBcclxuICAgICAgICAgICAgdmFyIGh0bWwgPSBjICsgJzxzcGFuIGNsYXNzPVwibW9yZWVsbGlwc2VzXCI+JyArIGVsbGlwc2VzdGV4dCsgJyZuYnNwOzwvc3Bhbj48c3BhbiBjbGFzcz1cIm1vcmVjb250ZW50XCI+PHNwYW4+JyArIGggKyAnPC9zcGFuPjxhIGhyZWY9XCJcIiBjbGFzcz1cIm1vcmVsaW5rXCI+JyArIG1vcmV0ZXh0ICsgJzwvYT48L3NwYW4+JztcclxuICAgICAgICAgICAgJCh0aGlzKS5odG1sKGh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gXHJcbiAgICAkKFwiLm1vcmVsaW5rXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcyhcImxlc3NcIikpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImxlc3NcIik7XHJcbiAgICAgICAgICAgICQodGhpcykuaHRtbChtb3JldGV4dCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImxlc3NcIik7XHJcbiAgICAgICAgICAgICQodGhpcykuaHRtbChsZXNzdGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQodGhpcykucGFyZW50KCkucHJldigpLnRvZ2dsZSgpO1xyXG4gICAgICAgICQodGhpcykucHJldigpLnRvZ2dsZSgpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG59KTsiXX0=
